pipeline {
agent any

tools {
maven "maven3"
jdk "jdk17"
}

stages {
stage('GIT CHECKOUT') {
  steps {
  git branch: "main", url: "https://github.com/fahad-khan12/my-app.git"
  }
}
stage('CLEAN AND BUILD') {
  steps {
  sh 'mvn clean install'
  }
}
stage('DEPLOY TO NEXUS REPO') {
  steps {
    withMaven(globalMavenSettingsConfig: 'global-settings-xml',jdk: 'jdk17',maven: '', mavenSettingsConfig: '', traceability: true)
{
    sh "mvn deploy -DskipTests=true"
    }

  }}
}
}
